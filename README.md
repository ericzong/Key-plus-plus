# 概述

Key++ 是一个基于 `Capslock` 键的快捷键效率工具。它可以让你在任意的编辑器中感受到类似 `vim` 的编辑体验，尽管它的功能不仅限于编辑器中。

Key++ 依赖 [Autohotkey](https://www.autohotkey.com/)，需要其执行根目录下的 `Key++.ahk` 文件来启动 Key++。

# 快捷键

Key++ 使用 `Capslock` 键作为快捷键掩码，因此，它会“几乎无感”地影响 `Capslock` 的功能。

当短按（0.2 秒内）`Capslock` 时，依然是切换大小写功能；长按松开将不会执行任何操作，除非同时按下了下面定义的快捷键：

| 快捷键  | 功能                     | 说明                                                         |
| ------- | ------------------------ | ------------------------------------------------------------ |
| ESC     | 退出脚本                 |                                                              |
| F2      | 编辑主脚本               | 如果配置文件中有指定 SciTE4AutoHotkey 编辑器的路径，则会使用它；<br>否则，尝试使用 notepad++；<br>否则，使用记事本。 |
| F5      | 重新加载脚本，即重启     |                                                              |
| b       | Backspace                |                                                              |
| d       | 删除当前行               |                                                              |
| x       | Delete                   |                                                              |
| h       | 左移                     |                                                              |
| j       | 下移                     |                                                              |
| k       | 上移                     |                                                              |
| l       | 右移                     |                                                              |
| u       | 左移一个“单词”           |                                                              |
| p       | 右移一个“单词”           |                                                              |
| y       | 转到行首                 | Home                                                         |
| ;       | 转到行尾                 | End                                                          |
| Shift+h | 向左选择一个字符         |                                                              |
| Shift+l | 向右选择一个字符         |                                                              |
| Shift+u | 向左选择一个“单词”       |                                                              |
| Shift+p | 向右选择一个“单词”       |                                                              |
| Shift+y | 向左选择到行首           |                                                              |
| Shift+; | 向右选择到行尾           |                                                              |
| Enter   | 任意位置换行             |                                                              |
| Shift+, | 当前选择文本两边加尖括号 | \<text\>                                                     |
| Shift+9 | 当前选择文本两边加圆括号 | (text)                                                       |
| [       | 当前选择文本两边加方括号 | [text]                                                       |
| Shift+[ | 当前选择文本两边加花括号 | {text}                                                       |
| '       | 当前选择文本两边加单引号 | 'text'                                                       |
| Shift+' | 当前选择文本两边加双引号 | "text"                                                       |

# 配置

Key++ 的配置文件位于 `<Key++>/config/config.ini`，其内容大致如下：

```ini
[Ext]
editor=path/to/SciTE4AutoHotkey

[Autorun]
aName=path/to/startfile
```

`editor` ：指定了 SciTE4AutoHotkey 编辑器的路径，用以编辑脚本文件。

`[Autorun]`：用以配置自启动的程序（后续章节介绍）。其下的配置项名称是任意的。

> 注意：不要任意改变配置文件结构，这可能导致程序错误。

# 自启动

你可以使用 Key++ 来管理随系统启动的程序，而只需要让 Key++ 随系统启动即可。简单地说，你需要创建一个快捷方式，其“目标”属性如下：

```
path\to\AutoHotkeyU64.exe path\to\Key++.ahk -startup
```

然后，将该快捷方式放在系统启动目录下，这样就能实现 Key++ 自启动了。

配置自启动程序有两处地方，一则是上文提及的 `config.ini` 文件的 `[Autorun]` 部分；另一处则是 `<Key++>/autorun` 目录，可将需要自启动的程序的快捷方式放在该目录下。这样，就可以实现程序自启动。

> `[Autorun]` 配置目前只支持直接可执行的文件，比如 .exe 文件。而 `autorun` 目录放置快捷方式就灵活很多，只要是合法的快捷方式都可以正确执行——而且优先于 `[Autorun]` 配置启动。

